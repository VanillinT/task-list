{"version":3,"sources":["features/notifications/notificationsSlice.js","features/notifications/Notifier.jsx","utils/api.js","utils/helpers.js","features/tasksList/taskModalSlice.js","features/tasksList/tasksSlice.js","utils/validators.js","features/tasksList/styles.jsx","features/formWithValidation/styles.jsx","features/formWithValidation/FormWithValidation.jsx","features/tasksList/AddTaskModal.jsx","features/auth/userInfoSlice.js","features/tasksList/tasksListStateSlice.js","features/tasksList/config.js","features/tasksList/TasksList.jsx","features/auth/LoginPopover.jsx","commonComponents/styles.jsx","commonComponents/Header.jsx","commonComponents/App.jsx","app/store.js","index.jsx"],"names":["notificationsSlice","createSlice","name","initialState","items","reducers","notificationAdded","state","payload","push","notificationRemoved","filter","notification","key","actions","displayed","Notifier","dispatch","useDispatch","notifications","useSelector","store","useSnackbar","enqueueSnackbar","closeSnackbar","useEffect","forEach","id","message","options","dismissed","includes","onClose","event","reason","myKey","onExited","fetchAsDev","a","method","path","params","data","url","Object","entries","val","ajax","crossDomain","mimeType","contentType","processData","dataType","response","get","post","form","FormData","append","getTasks","page","createTask","editMultipleTasks","tasks","token","Promise","all","map","task","editTask","dispatchNotificationForResult","result","resultIsArray","length","success","status","JSON","stringify","Date","getTime","Math","random","variant","modalSlice","open","modalOpened","modalClosed","fetchTasks","createAsyncThunk","getState","tasksListState","orderBy","sortDirection","currentPage","sort_field","sort_direction","newTaskCreated","then","res","tasksSaved","user","unsavedItems","itemsCount","tasksSlice","error","totalItems","taskEditedLocally","errorNullified","extraReducers","fulfilled","total_task_count","every","msg","selectTasksData","count","selectUnsavedTasks","validateEmail","_email","test","validateUsername","username","validateText","errormsg","text","useAddTaskModalStyles","makeStyles","modal","display","alignItems","justifyContent","wrapper","outline","useTasksListStyles","tableContainer","height","tableBody","position","utilsWrapper","width","padding","margin","button","marginRight","pagination","textField","border","useFormStyles","theme","background","borderRadius","minWidth","boxShadow","shadows","header","backgroundColor","palette","secondary","light","body","flexDirection","input","marginTop","backdrop","FormWithValidation","submitButtonLabel","title","fieldsOptionsMap","onSubmit","errors","styles","fieldsKeys","useMemo","keys","getEmptyFieldsMap","reduce","acc","useState","fieldsValuesMap","setFieldsValuesMap","errorsMap","setErrorsMap","updatePrevStateObj","setFn","value","prev","handleTextInputChange","e","preventDefault","setFieldValue","target","getFormErrorsCount","validate","validator","currentValue","errorText","setErrorValue","FormControl","className","TextField","label","capitalize","onChange","props","getCustomPropsForInput","Button","onClick","AddTaskModal","newTaskModal","email","multiline","rows","rowsMax","Modal","closeAfterTransition","Fade","in","Box","fetchToken","userInfoSlice","loggedIn","loggedOut","selectLoggedIn","listStateSlice","orderByChanged","sortDirectionChanged","currentPageChanged","selectTaskListState","headers","sortable","TasksList","unsavedTasks","pageCount","ceil","updateUnsavedTask","endIcon","Pagination","shape","TableContainer","Table","TableHead","TableRow","cell","TableCell","TableSortLabel","active","direction","TableBody","disabled","handleTextChange","Checkbox","checked","handleCheckboxClick","LoginPopover","anchorEl","password","type","undefined","Popover","anchorOrigin","vertical","horizontal","transformOrigin","useAppStyles","paddingTop","fontSize","useHeaderStyles","logo","pointerEvents","Header","loginPopover","React","setAnchorEl","loginPopoverOpen","setLoginPopoverOpen","Typography","disableRipple","currentTarget","App","configureStore","reducer","tasksReducer","tasksListStateSlice","taskModalReducer","ReactDOM","render","maxSnack","document","getElementById"],"mappings":"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","file":"static/js/main.07b88216.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  items: [],\n};\n\nconst notificationsSlice = createSlice({\n  name: \"notifications\",\n  initialState,\n  reducers: {\n    notificationAdded: (state, { payload }) => {\n      state.items.push(payload);\n    },\n    notificationRemoved: (state, { payload }) => {\n      return {\n        items: state.items.filter(\n          (notification) => notification.key !== payload\n        ),\n      };\n    },\n  },\n});\n\nexport default notificationsSlice.reducer;\n\nexport const {\n  notificationAdded,\n  notificationRemoved,\n} = notificationsSlice.actions;\n","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useSnackbar } from \"notistack\";\nimport { notificationRemoved } from \"./notificationsSlice\";\n\nlet displayed = [];\n\nconst Notifier = () => {\n  const dispatch = useDispatch();\n  const notifications = useSelector((store) => store.notifications.items);\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n  const storeDisplayed = (id) => {\n    displayed = [...displayed, id];\n  };\n\n  const removeDisplayed = (id) => {\n    displayed = [...displayed.filter((key) => id !== key)];\n  };\n\n  useEffect(() => {\n    notifications.forEach(\n      ({ key, message, options = {}, dismissed = false }) => {\n        if (dismissed) {\n          closeSnackbar(key);\n          return;\n        }\n\n        if (displayed.includes(key)) return;\n\n        enqueueSnackbar(message, {\n          key,\n          ...options,\n          onClose: (event, reason, myKey) => {\n            if (options.onClose) {\n              options.onClose(event, reason, myKey);\n            }\n          },\n          onExited: (event, myKey) => {\n            dispatch(notificationRemoved(myKey));\n            removeDisplayed(myKey);\n          },\n        });\n\n        storeDisplayed(key);\n      }\n    );\n  }, [notifications, closeSnackbar, enqueueSnackbar, dispatch]);\n\n  return null;\n};\n\nexport default Notifier;\n","import { ajax } from \"jquery\";\n\nconst baseApiUrl = \"https://uxcandy.com/~shapoval/test-task-backend/v2\";\nconst defualtParams = \"?developer=VanillinT\";\n\nconst fetchAsDev = async ({ method, path, params, data }) => {\n  let url = baseApiUrl + path + defualtParams;\n\n  if (params)\n    Object.entries(params).forEach(([key, val]) => (url += `&${key}=${val}`));\n\n  const response = await ajax({\n    url,\n    method,\n    crossDomain: true,\n    mimeType: \"multipart/form-data\",\n    contentType: false,\n    processData: false,\n    data,\n    dataType: \"json\",\n  });\n\n  return response;\n};\n\nconst get = ({ path, params }) => {\n  return fetchAsDev({ method: \"GET\", path, params });\n};\n\nconst post = ({ path, data }) => {\n  const form = new FormData();\n\n  Object.entries(data).forEach(([key, val]) => {\n    form.append(key, val);\n  });\n\n  return fetchAsDev({ method: \"POST\", path, data: form });\n};\n\nexport const getTasks = (params = { page: 1 }) => get({ path: \"/\", params });\n\nexport const createTask = (data) => post({ path: \"/create\", data });\n\nexport const editTask = ({ token }, task) =>\n  post({ path: `/edit/${task.id}`, data: { ...task, token } });\n\nexport const editMultipleTasks = ({ token }, tasks) => {\n  return Promise.all(tasks.map((task) => editTask({ token }, task)));\n};\n\nexport const login = (data) => post({ path: \"/login\", data });\n","import { notificationAdded } from \"../features/notifications/notificationsSlice\";\n\nexport const stringIsEmail = (str) => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(str);\n\nexport const dispatchNotificationForResult = (dispatch, result, message) => {\n  const resultIsArray = !!result.length;\n  const success = resultIsArray\n    ? result[0].status === \"ok\"\n    : result.status === \"ok\";\n  dispatch(\n    notificationAdded({\n      message: success\n        ? message\n        : `ERROR: ${JSON.stringify(\n            (resultIsArray ? result[0] : result).message\n          )}`,\n      key: new Date().getTime() + Math.random(),\n      options: {\n        variant: success ? \"success\" : \"error\",\n      },\n    })\n  );\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst modalSlice = createSlice({\n  name: \"modal\",\n  initialState: {\n    open: false,\n  },\n  reducers: {\n    modalOpened: () => ({ open: true }),\n    modalClosed: () => ({ open: false }),\n  },\n});\n\nexport default modalSlice.reducer;\n\nexport const { modalOpened, modalClosed } = modalSlice.actions;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { getTasks, createTask, editMultipleTasks } from \"../../utils/api\";\nimport { dispatchNotificationForResult } from \"../../utils/helpers\";\nimport { modalClosed } from \"./taskModalSlice\";\n\nconst initialState = {\n  items: [],\n  unsavedItems: [],\n  status: \"idle\",\n  error: null,\n  totalItems: 0,\n};\n\nexport const fetchTasks = createAsyncThunk(\n  \"tasks/tasksLoaded\",\n  async (params, { getState }) => {\n    const { orderBy, sortDirection, currentPage } = getState().tasksListState;\n    const result = getTasks({\n      page: currentPage,\n      sort_field: orderBy,\n      sort_direction: sortDirection,\n    });\n    return result;\n  }\n);\n\nexport const newTaskCreated = createAsyncThunk(\n  \"tasks/taskCreated\",\n  async (data, { dispatch }) => {\n    const result = createTask(data);\n    result.then((res) => {\n      dispatchNotificationForResult(\n        dispatch,\n        res,\n        \"New task created successfuly\"\n      );\n      if (res.status === \"ok\") {\n        dispatch(modalClosed());\n        dispatch(fetchTasks());\n      }\n    });\n    return result;\n  }\n);\n\nexport const tasksSaved = createAsyncThunk(\n  \"tasks/tasksSaved\",\n  async (params, { dispatch, getState }) => {\n    const state = getState();\n    const { token } = state.user;\n    const { unsavedItems } = state.tasks;\n    const itemsCount = unsavedItems.length;\n    const result = editMultipleTasks({ token }, unsavedItems);\n    result.then((res) => {\n      dispatchNotificationForResult(\n        dispatch,\n        res,\n        itemsCount === 1\n          ? `Task ${unsavedItems[0].id} has been updated`\n          : `${itemsCount} tasks have been updated`\n      );\n    });\n    return result;\n  }\n);\n\nconst tasksSlice = createSlice({\n  name: \"tasks\",\n  initialState,\n  reducers: {\n    taskEditedLocally: (state, { payload }) => {\n      state.items = state.items.map((task) =>\n        task.id === payload.id ? payload : task\n      );\n      state.unsavedItems = [\n        ...state.unsavedItems.filter((task) => task.id !== payload.id),\n        payload,\n      ];\n    },\n    errorNullified: (state) => ({ ...state, error: null }),\n  },\n  extraReducers: {\n    [fetchTasks.fulfilled]: (state, { payload }) => {\n      const { message, status } = payload;\n      state.status = status;\n      if (status === \"error\") state.error = message;\n      else {\n        const { tasks, total_task_count } = message;\n        state.items = [...tasks];\n        state.totalItems = total_task_count;\n      }\n    },\n    [newTaskCreated.fulfilled]: (state, { payload }) => {\n      const { message, status } = payload;\n      state.status = status;\n      if (status === \"error\") {\n        state.error = message;\n      } else if (state.length < 3) state.items.push(message);\n    },\n    [tasksSaved.fulfilled]: (state, { payload }) => {\n      const everyItemIsSaved = payload.every((msg) => msg.status === \"ok\");\n      if (everyItemIsSaved) state.unsavedItems = [];\n    },\n  },\n});\n\nexport default tasksSlice.reducer;\n\nexport const { taskEditedLocally, errorNullified } = tasksSlice.actions;\n\nexport const selectTasksData = (state) => ({\n  tasks: state.tasks.items,\n  count: state.tasks.totalItems,\n});\n\nexport const selectTodoById = (state, id) =>\n  state.tasks.items.find((todo) => todo.id === id);\n\nexport const selectUnsavedTasks = (state) => state.tasks.unsavedItems;\n","import { stringIsEmail } from \"./helpers\";\n\nexport const validateEmail = (_email) => {\n  if (_email.length === 0) return \"Enter Email\";\n  else if (!stringIsEmail(_email)) {\n    return \"Incorrect email format.\";\n  } else return \"\";\n};\n\nexport const validateUsername = (username) => {\n  if (username.length === 0) return \"Enter Username\";\n  else if (username.length < 3) return \"Username is too short\";\n  else if (username.length > 14) return \"Username is too long\";\n  else return \"\";\n};\n\nexport const validateText = (errormsg) => (text) => {\n  if (text.length === 0) return errormsg;\n  else return \"\";\n};\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const useAddTaskModalStyles = makeStyles({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  wrapper: {\n    outline: \"none\",\n  },\n});\n\nexport const useTasksListStyles = makeStyles({\n  tableContainer: {\n    height: 400,\n  },\n  tableBody: {\n    position: \"relative\",\n  },\n  utilsWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-between\",\n    padding: 10,\n    margin: \"auto\",\n  },\n  button: {\n    marginRight: 10,\n  },\n  pagination: {},\n  textField: {\n    width: \"100%\",\n    border: \"none\",\n  },\n});\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const useFormStyles = makeStyles((theme) => ({\n  form: {\n    background: \"white\",\n    borderRadius: 5,\n    minWidth: 300,\n    boxShadow: theme.shadows[16],\n  },\n  header: {\n    backgroundColor: theme.palette.secondary.light,\n    padding: \"0 30px\",\n    borderRadius: \"5px 5px 0 0\",\n  },\n  body: {\n    padding: \"0 20px 20px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  input: {\n    marginTop: \"15px\",\n  },\n  backdrop: {\n    backgroundColor: \"transparent\",\n  },\n}));\n","import React, { useState, useMemo, useEffect } from \"react\";\nimport PropType from \"prop-types\";\nimport { TextField, FormControl, Button, capitalize } from \"@material-ui/core\";\nimport { useFormStyles } from \"./styles\";\n\nconst FormWithValidation = ({\n  submitButtonLabel = \"OK\",\n  title = \"\",\n  fieldsOptionsMap,\n  onSubmit,\n  errors,\n}) => {\n  const styles = useFormStyles();\n  const fieldsKeys = useMemo(() => Object.keys(fieldsOptionsMap));\n\n  const getEmptyFieldsMap = () =>\n    fieldsKeys.reduce((acc, key) => ({ ...acc, [key]: \"\" }), {});\n\n  const [fieldsValuesMap, setFieldsValuesMap] = useState(getEmptyFieldsMap());\n  const [errorsMap, setErrorsMap] = useState(getEmptyFieldsMap());\n\n  const updatePrevStateObj = (setFn, key, value) =>\n    setFn((prev) => ({ ...prev, [key]: value }));\n\n  const setFieldValue = (key, value) =>\n    updatePrevStateObj(setFieldsValuesMap, key, value);\n  const setErrorValue = (key, value) =>\n    updatePrevStateObj(setErrorsMap, key, value);\n\n  const handleTextInputChange = (e, key) => {\n    e.preventDefault();\n    setFieldValue(key, e.target.value);\n    setErrorsMap(getEmptyFieldsMap());\n  };\n\n  useEffect(() => {\n    setErrorsMap({ ...errorsMap, ...errors });\n  }, [errors]);\n\n  const getFormErrorsCount = () => {\n    let count = 0;\n    fieldsKeys.forEach((key) => {\n      const validate = fieldsOptionsMap[key].validator;\n      const currentValue = fieldsValuesMap[key];\n      if (!validate) return;\n      const errorText = validate(currentValue);\n      if (errorText) count++;\n      setErrorValue(key, errorText);\n    });\n    return count;\n  };\n\n  const handleClick = () => {\n    if (getFormErrorsCount() > 0) return;\n    if (onSubmit) onSubmit(fieldsValuesMap);\n  };\n\n  const getCustomPropsForInput = (key) =>\n    fieldsOptionsMap[key] && fieldsOptionsMap[key].props\n      ? fieldsOptionsMap[key].props\n      : {};\n\n  return (\n    <FormControl className={styles.form}>\n      {title && (\n        <div className={styles.header}>\n          <h2>{title}</h2>\n        </div>\n      )}\n      <div className={styles.body}>\n        {fieldsKeys.map((key) => (\n          <TextField\n            key={key}\n            className={styles.input}\n            variant=\"outlined\"\n            label={errorsMap[key] || capitalize(key)}\n            value={fieldsValuesMap[key]}\n            onChange={(e) => handleTextInputChange(e, key)}\n            error={!!errorsMap[key]}\n            {...getCustomPropsForInput(key)}\n          />\n        ))}\n        <Button\n          className={styles.input}\n          variant=\"outlined\"\n          onClick={handleClick}\n        >\n          {submitButtonLabel}\n        </Button>\n      </div>\n    </FormControl>\n  );\n};\n\nFormWithValidation.propTypes = {\n  submitButtonLabel: PropType.string,\n  title: PropType.string,\n  fieldsOptionsMap: PropType.object,\n  onSubmit: PropType.func,\n  errors: PropType.object,\n};\n\nexport default FormWithValidation;\n","import React from \"react\";\nimport { Modal, Fade, Box } from \"@material-ui/core\";\nimport { newTaskCreated, errorNullified } from \"./tasksSlice\";\nimport { modalClosed } from \"./taskModalSlice\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  validateEmail,\n  validateUsername,\n  validateText,\n} from \"../../utils/validators\";\nimport { useAddTaskModalStyles } from \"./styles\";\nimport FormWithValidation from \"../formWithValidation/FormWithValidation\";\n\nconst AddTaskModal = () => {\n  const open = useSelector((state) => state.newTaskModal.open);\n  const errors = useSelector((state) => state.tasks.error);\n  const dispatch = useDispatch();\n  const styles = useAddTaskModalStyles();\n\n  const handleSubmit = (data) => {\n    dispatch(newTaskCreated(data));\n  };\n\n  const handleClose = () => {\n    dispatch(modalClosed());\n    dispatch(errorNullified());\n  };\n\n  const fieldsOptionsMap = {\n    username: { validator: validateUsername },\n    email: { validator: validateEmail },\n    text: {\n      validator: validateText(\"This field cannot be empty\"),\n      props: {\n        multiline: true,\n        rows: 3,\n        rowsMax: 5,\n      },\n    },\n  };\n\n  return (\n    <Modal\n      open={open}\n      onClose={handleClose}\n      className={styles.modal}\n      closeAfterTransition\n    >\n      <Fade in={open}>\n        <Box className={styles.wrapper}>\n          <FormWithValidation\n            fieldsOptionsMap={fieldsOptionsMap}\n            errors={errors}\n            onSubmit={handleSubmit}\n            title=\"Add new task\"\n            submitButtonLabel=\"Add\"\n          />\n        </Box>\n      </Fade>\n    </Modal>\n  );\n};\n\nexport default AddTaskModal;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { login } from \"../../utils/api\";\n\nconst initialState = {\n  loggedIn: false,\n  token: null,\n  status: \"idle\",\n  error: null,\n};\n\nexport const fetchToken = createAsyncThunk(\"auth/loggedIn\", async (params) => {\n  return login(params);\n});\n\nconst userInfoSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    loggedOut: (state) => {\n      state.loggedIn = false;\n      state.token = null;\n    },\n    errorNullified: (state) => ({ ...state, error: null }),\n  },\n  extraReducers: {\n    [fetchToken.fulfilled]: (state, { payload }) => {\n      const { status, message } = payload;\n      state.status = status;\n\n      if (status === \"error\") state.error = message;\n      else {\n        const { token } = message;\n        state.token = token;\n        if (token.length > 0) state.loggedIn = true;\n      }\n    },\n  },\n});\n\nexport default userInfoSlice.reducer;\n\nexport const { loggedOut, errorNullified } = userInfoSlice.actions;\n\nexport const selectLoggedIn = (state) => state.user.loggedIn;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  orderBy: null,\n  sortDirection: \"desc\",\n  currentPage: 1,\n};\n\nconst listStateSlice = createSlice({\n  name: \"tasksListState\",\n  initialState,\n  reducers: {\n    orderByChanged: (state, { payload }) => ({\n      ...state,\n      orderBy: payload,\n    }),\n    sortDirectionChanged: (state, { payload }) => ({\n      ...state,\n      sortDirection: payload,\n    }),\n    currentPageChanged: (state, { payload }) => ({\n      ...state,\n      currentPage: payload,\n    }),\n  },\n});\n\nexport default listStateSlice.reducer;\n\nexport const {\n  orderByChanged,\n  sortDirectionChanged,\n  currentPageChanged,\n} = listStateSlice.actions;\n\nexport const selectTaskListState = (state) => state.tasksListState;\n","export const headers = [\n  {\n    label: \"Id\",\n    sortable: true,\n    width: 75,\n  },\n  {\n    label: \"Username\",\n    sortable: true,\n    width: 125,\n  },\n  {\n    label: \"Email\",\n    sortable: true,\n    width: 160,\n  },\n  {\n    label: \"Text\",\n    sortable: false,\n    width: 240,\n  },\n  {\n    label: \"Status\",\n    sortable: true,\n    width: 100,\n  },\n];\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport AddTaskModal from \"./AddTaskModal\";\nimport {\n  selectTasksData,\n  fetchTasks,\n  tasksSaved,\n  taskEditedLocally,\n  selectUnsavedTasks,\n} from \"./tasksSlice\";\nimport { modalOpened } from \"./taskModalSlice\";\nimport {\n  TableContainer,\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n  Button,\n  Checkbox,\n  TextField,\n  TableSortLabel,\n  Box,\n} from \"@material-ui/core\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport { useTasksListStyles } from \"./styles\";\nimport { selectLoggedIn } from \"../auth/userInfoSlice\";\nimport {\n  orderByChanged,\n  sortDirectionChanged,\n  currentPageChanged,\n  selectTaskListState,\n} from \"./tasksListStateSlice\";\nimport { headers } from \"./config\";\n\nconst TasksList = () => {\n  const styles = useTasksListStyles();\n  const dispatch = useDispatch();\n  const { orderBy, sortDirection, currentPage } = useSelector(\n    selectTaskListState\n  );\n\n  const loggedIn = useSelector(selectLoggedIn);\n  const unsavedTasks = useSelector(selectUnsavedTasks);\n  const { tasks, count } = useSelector(selectTasksData);\n  const pageCount = Math.ceil(count / 3);\n\n  const handleSelectSortField = (id) => {\n    if (orderBy !== id) dispatch(orderByChanged(id));\n    else\n      dispatch(sortDirectionChanged(sortDirection === \"desc\" ? \"asc\" : \"desc\"));\n  };\n\n  const handleOpenModal = () => dispatch(modalOpened());\n\n  const handleChangePage = (e, val) => {\n    dispatch(currentPageChanged(val));\n  };\n\n  const updateUnsavedTask = (task) => {\n    dispatch(taskEditedLocally(task));\n  };\n  const handleTextChange = (e, task) => {\n    updateUnsavedTask({ ...task, text: e.target.value });\n  };\n  const handleCheckboxClick = (e, task) => {\n    updateUnsavedTask({ ...task, status: e.target.checked ? 10 : 0 });\n  };\n\n  const saveChanges = () => {\n    dispatch(tasksSaved());\n  };\n\n  useEffect(() => {\n    dispatch(fetchTasks());\n  }, [currentPage, sortDirection, orderBy]);\n\n  return (\n    <Box>\n      <Box className={styles.utilsWrapper}>\n        <Box>\n          <Button\n            className={styles.button}\n            variant=\"outlined\"\n            onClick={handleOpenModal}\n            endIcon={<span className=\"material-icons\">add_task</span>}\n          >\n            New task\n          </Button>\n          {unsavedTasks.length > 0 && (\n            <Button\n              className={styles.button}\n              variant=\"outlined\"\n              onClick={saveChanges}\n              endIcon={<span className=\"material-icons\">save</span>}\n            >\n              Save\n            </Button>\n          )}\n        </Box>\n        {pageCount > 0 && (\n          <Pagination\n            className={styles.pagination}\n            count={pageCount}\n            shape=\"rounded\"\n            onChange={handleChangePage}\n          />\n        )}\n      </Box>\n      {tasks && tasks.length ? (\n        <TableContainer className={styles.tableContainer}>\n          <Table>\n            <TableHead>\n              <TableRow>\n                {headers.map((cell) => (\n                  <TableCell key={cell.label} width={cell.width}>\n                    {cell.sortable ? (\n                      <TableSortLabel\n                        active={orderBy === cell.label}\n                        direction={sortDirection}\n                        onClick={() => handleSelectSortField(cell.label)}\n                      >\n                        {cell.label}\n                      </TableSortLabel>\n                    ) : (\n                      cell.label\n                    )}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody className={styles.tableBody}>\n              {tasks.map((task) => (\n                <TableRow key={task.id}>\n                  <TableCell>{task.id}</TableCell>\n                  <TableCell>{task.username}</TableCell>\n                  <TableCell>{task.email}</TableCell>\n                  <TableCell>\n                    <TextField\n                      className={styles.textField}\n                      variant=\"outlined\"\n                      value={task.text}\n                      multiline\n                      rowsMax={3}\n                      disabled={!loggedIn}\n                      onChange={(e) => handleTextChange(e, task)}\n                    />\n                  </TableCell>\n                  <TableCell>\n                    <Checkbox\n                      checked={task.status === 10}\n                      onClick={(e) => handleCheckboxClick(e, task)}\n                      disabled={!loggedIn}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      ) : null}\n      <AddTaskModal />\n    </Box>\n  );\n};\n\nexport default TasksList;\n","import React from \"react\";\nimport { Popover } from \"@material-ui/core\";\nimport PropType from \"prop-types\";\nimport { validateText, validateUsername } from \"../../utils/validators\";\nimport FormWithValidation from \"../formWithValidation/FormWithValidation\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchToken, errorNullified } from \"./userInfoSlice\";\n\nconst LoginPopover = ({ anchorEl, open, onClose }) => {\n  const dispatch = useDispatch();\n  const errors = useSelector((state) => state.user.error);\n  const fieldsOptionsMap = {\n    username: { validator: validateUsername },\n    password: {\n      validator: validateText(\"Enter password\"),\n      props: { type: \"password\" },\n    },\n  };\n\n  const handleSubmit = (data) => {\n    dispatch(fetchToken(data)).then(({ payload: { status } }) => {\n      if (status === \"ok\" && onClose) onClose();\n    });\n  };\n\n  const handleClose = () => {\n    onClose();\n    dispatch(errorNullified());\n  };\n\n  const id = open ? \"simple-popover\" : undefined;\n  return (\n    <Popover\n      id={id}\n      open={open}\n      anchorEl={anchorEl}\n      onClose={handleClose}\n      anchorOrigin={{\n        vertical: \"bottom\",\n        horizontal: \"center\",\n      }}\n      transformOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n    >\n      <FormWithValidation\n        submitButtonLabel=\"Log in\"\n        fieldsOptionsMap={fieldsOptionsMap}\n        onSubmit={handleSubmit}\n        errors={errors}\n      />\n    </Popover>\n  );\n};\n\nLoginPopover.propTypes = {\n  anchorEl: PropType.object,\n  open: PropType.bool,\n  onClose: PropType.func,\n};\n\nexport default LoginPopover;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const useAppStyles = makeStyles({\n  body: {\n    display: \"flex\",\n    paddingTop: 100,\n    width: \"100%\",\n    justifyContent: \"center\",\n    fontSize: \"calc(10px + 2vmin)\",\n  },\n});\n\nexport const useHeaderStyles = makeStyles((theme) => ({\n  header: {\n    position: \"fixed\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    width: \"100%\",\n    padding: \"20px\",\n    backgroundColor: theme.palette.secondary.light,\n  },\n  logo: {\n    pointerEvents: \"none\",\n  },\n}));\n\nexport const useLoginPopoverStyles = makeStyles({\n  loginPopover: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    padding: \"0 20px\",\n    minWidth: 250,\n  },\n});\n","import React from \"react\";\nimport { Box, Button, Typography } from \"@material-ui/core\";\nimport LoginPopover from \"../features/auth/LoginPopover\";\nimport { useHeaderStyles } from \"./styles\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectLoggedIn, loggedOut } from \"../features/auth/userInfoSlice\";\n\nconst Header = () => {\n  const loggedIn = useSelector(selectLoggedIn);\n  const dispatch = useDispatch();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [loginPopoverOpen, setLoginPopoverOpen] = React.useState(false);\n  const styles = useHeaderStyles();\n\n  const handleLogin = (e) => {\n    setAnchorEl(e.currentTarget);\n    setLoginPopoverOpen((prev) => !prev);\n  };\n\n  const handleLogout = () => {\n    dispatch(loggedOut());\n  };\n\n  const handleLoginPopoverClose = () => {\n    setLoginPopoverOpen(false);\n  };\n\n  return (\n    <Box className={styles.header}>\n      <Typography variant=\"h4\" className={styles.logo}>\n        Tasks list\n      </Typography>\n      <div>\n        {loggedIn ? (\n          <Button\n            onClick={handleLogout}\n            disableRipple\n            endIcon={<span className=\"material-icons\">logout</span>}\n          >\n            Log Out\n          </Button>\n        ) : (\n          <>\n            <Button\n              onClick={handleLogin}\n              disableRipple\n              endIcon={<span className=\"material-icons\">login</span>}\n            >\n              Log in\n            </Button>\n            <LoginPopover\n              anchorEl={anchorEl}\n              open={loginPopoverOpen}\n              onClose={handleLoginPopoverClose}\n            />\n          </>\n        )}\n      </div>\n    </Box>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\r\nimport Notifier from \"../features/notifications/Notifier\";\r\nimport TasksList from \"../features/tasksList/TasksList\";\r\nimport Header from \"./Header\";\r\nimport { useAppStyles } from \"./styles\";\r\n\r\nconst App = () => {\r\n  const styles = useAppStyles();\r\n  return (\r\n    <div className=\"App\">\r\n      <Notifier />\r\n      <Header />\r\n      <div className={styles.body}>\r\n        <TasksList />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport tasksReducer from \"../features/tasksList/tasksSlice\";\r\nimport tasksListStateSlice from \"../features/tasksList/tasksListStateSlice\";\r\nimport taskModalReducer from \"../features/tasksList/taskModalSlice\";\r\nimport userInfoSlice from \"../features/auth/userInfoSlice\";\r\nimport notificationsSlice from \"../features/notifications/notificationsSlice\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    tasks: tasksReducer,\r\n    tasksListState: tasksListStateSlice,\r\n    newTaskModal: taskModalReducer,\r\n    user: userInfoSlice,\r\n    notifications: notificationsSlice,\r\n  },\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./commonComponents/App\";\r\nimport store from \"./app/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport { SnackbarProvider } from \"notistack\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <SnackbarProvider maxSnack={3}>\r\n      <App />\r\n    </SnackbarProvider>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}